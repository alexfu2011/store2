{"ast":null,"code":"var _jsxFileName = \"/Users/mac/dev/store2/admin/src/home/home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport NavBar from './../components/navBar';\nimport { Col, Row, Spinner } from 'react-bootstrap';\nimport { FiShoppingCart } from \"react-icons/fi\";\nimport { BiPackage } from \"react-icons/bi\";\nimport { FaTicketAlt } from \"react-icons/fa\";\nimport { getTotalProducts, getActiveProducts } from './../services/productService';\nimport { getActiveOrders, getTotalOrders } from './../services/orderService';\nimport './home.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Home = props => {\n  _s();\n\n  const [data, setData] = useState({\n    'TotalProducts': 0,\n    'ActiveProducts': 0,\n    'ActiveOrders': 0,\n    'TotalOrders': 0,\n    'loaded': false\n  });\n  const [dbError, setDbError] = useState(false);\n\n  const getValues = async () => {\n    const totalProducts = await getTotalProducts();\n    const activeProducts = await getActiveProducts();\n    const totalOrder = await getTotalOrders();\n    const activeOrder = await getActiveOrders();\n    console.log(totalOrder);\n    console.log(totalProducts);\n    console.log(activeOrder);\n    console.log(activeProducts); //if(!totalOrder.error && !totalProducts.error && !activeOrder.error && !activeProducts.error){\n\n    setData({ ...data,\n      'TotalProducts': 0,\n      'ActiveProducts': [],\n      'ActiveOrders': [],\n      'TotalOrders': 0,\n      'loaded': true\n    }); //}\n    //else{\n    //    setDbError(true)\n    //}\n  }; // const View=()=>{\n  //     console.log('-----',data)\n  // }\n\n\n  useEffect(() => {\n    getValues(); // eslint-disable-next-line react-hooks/exhaustive-deps      \n  }, [props]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"body\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      props: props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), data.loaded ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loaded\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this) : dbError ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        height: '100px',\n        marginTop: '300px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          display: 'block',\n          marginLeft: 'auto',\n          marginRight: 'auto',\n          textAlign: 'center'\n        },\n        children: [\"\\u670D\\u52A1\\u5668\\u51FA\\u9519\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/home\",\n          children: \"\\u8BF7\\u7A0D\\u540E\\u518D\\u8BD5\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        height: '100px',\n        marginTop: '300px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n        style: {\n          display: 'block',\n          marginLeft: 'auto',\n          marginRight: 'auto',\n          height: '50px',\n          width: '50px'\n        },\n        animation: \"border\",\n        variant: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          display: 'block',\n          marginLeft: 'auto',\n          marginRight: 'auto',\n          textAlign: 'center'\n        },\n        children: \"\\u52A0\\u8F7D\\u4E2D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Home, \"h/bd31QpHVAqeHsGxqJnvoGww0E=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/mac/dev/store2/admin/src/home/home.js"],"names":["React","useState","useEffect","NavBar","Col","Row","Spinner","FiShoppingCart","BiPackage","FaTicketAlt","getTotalProducts","getActiveProducts","getActiveOrders","getTotalOrders","Home","props","data","setData","dbError","setDbError","getValues","totalProducts","activeProducts","totalOrder","activeOrder","console","log","loaded","width","height","marginTop","display","marginLeft","marginRight","textAlign"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport NavBar from './../components/navBar'\nimport { Col, Row, Spinner } from 'react-bootstrap'\nimport { FiShoppingCart } from \"react-icons/fi\";\nimport { BiPackage } from \"react-icons/bi\";\nimport { FaTicketAlt } from \"react-icons/fa\";\nimport { getTotalProducts, getActiveProducts } from './../services/productService'\nimport { getActiveOrders, getTotalOrders } from './../services/orderService'\n\nimport './home.css'\nexport const Home = (props) => {\n    const [data, setData] = useState({\n        'TotalProducts': 0,\n        'ActiveProducts': 0,\n        'ActiveOrders': 0,\n        'TotalOrders': 0,\n        'loaded': false\n    })\n    const [dbError, setDbError] = useState(false)\n    const getValues = async () => {\n        const totalProducts = await getTotalProducts()\n        const activeProducts = await getActiveProducts()\n        const totalOrder = await getTotalOrders()\n        const activeOrder = await getActiveOrders()\n        console.log(totalOrder)\n        console.log(totalProducts)\n        console.log(activeOrder)\n        console.log(activeProducts)\n        //if(!totalOrder.error && !totalProducts.error && !activeOrder.error && !activeProducts.error){\n        setData({\n            ...data,\n            'TotalProducts': 0,\n            'ActiveProducts': [],\n            'ActiveOrders': [],\n            'TotalOrders': 0,\n            'loaded': true\n        })\n        //}\n        //else{\n        //    setDbError(true)\n        //}\n\n    }\n    // const View=()=>{\n    //     console.log('-----',data)\n    // }\n    useEffect(() => {\n        getValues()\n        // eslint-disable-next-line react-hooks/exhaustive-deps      \n    }, [props])\n    return (\n        <div className='body'>\n            <NavBar props={props}></NavBar>\n            {  data.loaded ?\n\n                <div >\n                    Loaded\n            </div> :\n                dbError ?\n                    <div style={{ width: '100%', height: '100px', marginTop: '300px' }} >\n                        <p style={{\n                            display: 'block', marginLeft: 'auto',\n                            marginRight: 'auto', textAlign: 'center'\n                        }}>\n                            服务器出错<br />\n                            <a href=\"/home\">请稍后再试。</a>\n                        </p>\n                    </div>\n                    :\n                    <div style={{ width: '100%', height: '100px', marginTop: '300px' }} >\n                        <Spinner style={{\n                            display: 'block', marginLeft: 'auto',\n                            marginRight: 'auto', height: '50px', width: '50px'\n                        }} animation=\"border\" variant=\"primary\" />\n                        <p style={{\n                            display: 'block', marginLeft: 'auto',\n                            marginRight: 'auto', textAlign: 'center'\n                        }}>加载中</p>\n                    </div>\n            }\n        </div>\n    )\n}\nexport default Home"]},"metadata":{},"sourceType":"module"}